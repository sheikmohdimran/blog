<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Fast.AI Course V4 with Google Colab and VS Code | Blog</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="Fast.AI Course V4 with Google Colab and VS Code" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="The latest version of the popular Fast.AI course is now underway and due to the limitation of Corona Virus, this has moved online. Though the videos will be available to general public on July, you can still access the notebooks of the latest version here." />
<meta property="og:description" content="The latest version of the popular Fast.AI course is now underway and due to the limitation of Corona Virus, this has moved online. Though the videos will be available to general public on July, you can still access the notebooks of the latest version here." />
<link rel="canonical" href="https://sheikmohdimran.github.io/blog/colab/fastai/vscode/2020/03/19/Colab_VS_Code.html" />
<meta property="og:url" content="https://sheikmohdimran.github.io/blog/colab/fastai/vscode/2020/03/19/Colab_VS_Code.html" />
<meta property="og:site_name" content="Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-03-19T00:00:00-05:00" />
<script type="application/ld+json">
{"datePublished":"2020-03-19T00:00:00-05:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://sheikmohdimran.github.io/blog/colab/fastai/vscode/2020/03/19/Colab_VS_Code.html"},"description":"The latest version of the popular Fast.AI course is now underway and due to the limitation of Corona Virus, this has moved online. Though the videos will be available to general public on July, you can still access the notebooks of the latest version here.","@type":"BlogPosting","url":"https://sheikmohdimran.github.io/blog/colab/fastai/vscode/2020/03/19/Colab_VS_Code.html","headline":"Fast.AI Course V4 with Google Colab and VS Code","dateModified":"2020-03-19T00:00:00-05:00","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/blog/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://sheikmohdimran.github.io/blog/feed.xml" title="Blog" /><link rel="shortcut icon" type="image/x-icon" href="/blog/images/favicon.ico"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Fast.AI Course V4 with Google Colab and VS Code | Blog</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="Fast.AI Course V4 with Google Colab and VS Code" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="The latest version of the popular Fast.AI course is now underway and due to the limitation of Corona Virus, this has moved online. Though the videos will be available to general public on July, you can still access the notebooks of the latest version here." />
<meta property="og:description" content="The latest version of the popular Fast.AI course is now underway and due to the limitation of Corona Virus, this has moved online. Though the videos will be available to general public on July, you can still access the notebooks of the latest version here." />
<link rel="canonical" href="https://sheikmohdimran.github.io/blog/colab/fastai/vscode/2020/03/19/Colab_VS_Code.html" />
<meta property="og:url" content="https://sheikmohdimran.github.io/blog/colab/fastai/vscode/2020/03/19/Colab_VS_Code.html" />
<meta property="og:site_name" content="Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-03-19T00:00:00-05:00" />
<script type="application/ld+json">
{"datePublished":"2020-03-19T00:00:00-05:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://sheikmohdimran.github.io/blog/colab/fastai/vscode/2020/03/19/Colab_VS_Code.html"},"description":"The latest version of the popular Fast.AI course is now underway and due to the limitation of Corona Virus, this has moved online. Though the videos will be available to general public on July, you can still access the notebooks of the latest version here.","@type":"BlogPosting","url":"https://sheikmohdimran.github.io/blog/colab/fastai/vscode/2020/03/19/Colab_VS_Code.html","headline":"Fast.AI Course V4 with Google Colab and VS Code","dateModified":"2020-03-19T00:00:00-05:00","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

<link href="https://unpkg.com/@primer/css/dist/primer.css" rel="stylesheet" />
<link rel="stylesheet" href="//use.fontawesome.com/releases/v5.0.7/css/all.css"><link type="application/atom+xml" rel="alternate" href="https://sheikmohdimran.github.io/blog/feed.xml" title="Blog" />

<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    // remove paragraph tags in rendered toc (happens from notebooks)
    var toctags = document.querySelectorAll(".toc-entry")
    toctags.forEach(e => (e.firstElementChild.innerText = e.firstElementChild.innerText.replace('¶', '')))
    });
</script>
</head><body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/blog/">Blog</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/blog/about/">About Me</a><a class="page-link" href="/blog/search/">Search</a><a class="page-link" href="/blog/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Fast.AI Course V4 with Google Colab and VS Code</h1><p class="post-meta post-meta-title"><time class="dt-published" datetime="2020-03-19T00:00:00-05:00" itemprop="datePublished">
        Mar 19, 2020
      </time>
       • <span class="read-time" title="Estimated read time">
    
    
      2 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/blog/categories/#colab">colab</a>
        &nbsp;
      
        <a class="category-tags-link" href="/blog/categories/#fastai">fastai</a>
        &nbsp;
      
        <a class="category-tags-link" href="/blog/categories/#VSCode">VSCode</a>
        
      
      </p>
    

    </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul class="section-nav">
<li class="toc-entry toc-h3"><a href="#mount-google-drive">Mount Google Drive</a></li>
<li class="toc-entry toc-h3"><a href="#clone-fastbook">Clone fastbook</a></li>
<li class="toc-entry toc-h3"><a href="#download-and-unzip-the-required-packages">Download and unzip the required packages</a></li>
<li class="toc-entry toc-h3"><a href="#generate-authtoken">Generate Authtoken</a></li>
<li class="toc-entry toc-h3"><a href="#create-tunnel">Create tunnel</a>
<ul>
<li class="toc-entry toc-h5"><a href="#references">References:</a></li>
</ul>
</li>
</ul><p>The latest version of the popular Fast.AI course is now underway and due to the limitation of Corona Virus, this has moved online. Though the videos will be available to general public on July, you can still access the notebooks of the latest version here.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://github.com/fastai/course-v4
</code></pre></div></div>

<p>The course will be largely based out of the <a href="https://www.amazon.com/Deep-Learning-Coders-fastai-PyTorch/dp/1492045527">book</a>, which is scheduled to release on July 2020 as well.</p>

<p>Though Google Colab gives you a notebook “like” interface, it would be difficult in using this as a development environment. In this post we will see on how we can use the underling hardware of Google Colab to setup a VS Code based GPU/TPU environment.</p>

<p>To do this we will use the two services listed below.</p>

<ul>
  <li>
<a href="https://coder.com/">Coder</a>, which provides us with the option to run VS Code, accessible via browser through <a href="https://github.com/cdr/code-server">Code-server</a>.</li>
  <li>
<a href="https://ngrok.com/">Ngrok</a>, which provides public and secure access by enabling URLs to your local application.</li>
</ul>

<h3 id="mount-google-drive">
<a class="anchor" href="#mount-google-drive" aria-hidden="true"><span class="octicon octicon-link"></span></a>Mount Google Drive</h3>

<p>Mount your Google drive with the command below, you’ll be asked to enter an authorization code that will be provided as output of the cell below.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">google.colab</span> <span class="kn">import</span> <span class="n">drive</span>
<span class="n">drive</span><span class="o">.</span><span class="n">mount</span><span class="p">(</span><span class="s">'/content/gdrive/'</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="clone-fastbook">
<a class="anchor" href="#clone-fastbook" aria-hidden="true"><span class="octicon octicon-link"></span></a>Clone fastbook</h3>

<p>Now clone the latest version of ‘fastbook’ from the github repository, into the Google Drive.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">!git clone https://github.com/fastai/course-v4 'drive/My Drive/course-v4'
</span></code></pre></div></div>

<h3 id="download-and-unzip-the-required-packages">
<a class="anchor" href="#download-and-unzip-the-required-packages" aria-hidden="true"><span class="octicon octicon-link"></span></a>Download and unzip the required packages</h3>

<p>We will need latest release of code-server and ngrok, to enable the setup. Let us download and decompress the files.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">!curl -sSL https://github.com/cdr/code-server/releases/download/2.1698/code-server2.1698-vsc1.41.1-linux-x86_64.tar.gz| tar -xvz
!wget https://bin.equinox.io/c/4VmDzA7iaHb/ngrok-stable-linux-amd64.zip
!unzip ngrok-stable-linux-amd64.zip
</span></code></pre></div></div>

<h3 id="generate-authtoken">
<a class="anchor" href="#generate-authtoken" aria-hidden="true"><span class="octicon octicon-link"></span></a>Generate Authtoken</h3>

<p>Create a free account in <a href="https://ngrok.com/">Ngrok</a>, this will be used forward the port where code-server runs. This step needs to be done to avoid too many connections error (greater than 20 connections within 60 seconds, which is a limitation for un-registered accounts)</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">print</span><span class="p">(</span><span class="s">"Get your authtoken from https://dashboard.ngrok.com/auth"</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">getpass</span>
<span class="n">authtoken</span> <span class="o">=</span> <span class="n">getpass</span><span class="o">.</span><span class="n">getpass</span><span class="p">()</span>
</code></pre></div></div>

<h3 id="create-tunnel">
<a class="anchor" href="#create-tunnel" aria-hidden="true"><span class="octicon octicon-link"></span></a>Create tunnel</h3>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">!./ngrok authtoken $</span>authtoken &amp; ./ngrok http 8443 <span class="nt">--log</span><span class="o">=</span>stdout &amp; ./code-server2.1698-vsc1.41.1-linux-x86_64/code-server <span class="nt">--port</span> <span class="s1">'8443'</span> <span class="nt">--auth</span> <span class="s1">'none'</span>
</code></pre></div></div>

<p>Output from the cell will have a link, ending with the format **http://<random_number>.ngrok.io**</random_number></p>

<p><img src="/blog/images/2020-03-19-Colab_VS_Code/image-20200319194723416.png" alt="image-20200319194723416"></p>

<p>Access the URL to get a VS Code interface. Now let us enable ipython notebook support by installing the <a href="https://marketplace.visualstudio.com/items?itemName=ms-python.python">Microsoft Python Extension</a>.</p>

<p>Go to ‘Extensions’ option in the VS Code, and search for ‘Python’ and click on ‘Install’.</p>

<p><img src="/blog/images/2020-03-19-Colab_VS_Code/image-20200319194735469.png" alt="image-20200319194735469"></p>

<p>Once done, reload the VS Code UI by clicking on ‘Reload Required’. This will enable the installed plugin.</p>

<p><img src="/blog/images/2020-03-19-Colab_VS_Code/image-20200319195926238.png" alt="image-20200319195926238"></p>

<p>To set the working directory, click on the ‘Explorer’ button, on the text box, type the directory where ‘fasbook’ was cloned initially.</p>

<p><img src="/blog/images/2020-03-19-Colab_VS_Code/image-20200319204759447.png" alt="image-20200319204759447"></p>

<p>This will list all the notebooks on the left, select the notebook you want to work with and proceed as usual.</p>

<p><img src="/blog/images/2020-03-19-Colab_VS_Code/image-20200319200242198.png" alt="image-20200319200242198"></p>

<p>You can also clone the notebook from <a href="https://github.com/sheikmohdimran/Experiments_2020/blob/master/code_server.ipynb">here</a> into your account to see this live in action.</p>

<blockquote>
  <p><strong>Note:</strong></p>

  <p>Prior to starting any new notebook, ensure you execute the command below, to avoid import errors..</p>
  <div class="language-console highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="go">!pip install -r requirements.txt
</span></code></pre></div>  </div>
</blockquote>

<h5 id="references">
<a class="anchor" href="#references" aria-hidden="true"><span class="octicon octicon-link"></span></a>References:</h5>

<ul>
  <li>https://forums.fast.ai/</li>
  <li>https://unix.stackexchange.com/questions/478544/connect-to-vm-through-ssh-google-colab-and-putty</li>
  <li>https://imadelhanafi.com/posts/google_colal_server/</li>
</ul>

  </div><a class="u-url" href="/blog/colab/fastai/vscode/2020/03/19/Colab_VS_Code.html" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/blog/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/blog/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/blog/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>An easy to use blogging platform with support for Jupyter Notebooks.</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://github.com/sheikmohdimran" title="sheikmohdimran"><svg class="svg-icon grey"><use xlink:href="/blog/assets/minima-social-icons.svg#github"></use></svg></a></li><li><a rel="me" href="https://twitter.com/sheikmohdimran" title="sheikmohdimran"><svg class="svg-icon grey"><use xlink:href="/blog/assets/minima-social-icons.svg#twitter"></use></svg></a></li></ul>
</div>

  </div>

</footer>
</body>

</html>
